import React, { useState } from 'react';

// Sample expense data
const initialExpenses = [
  { id: 1, title: 'Expense 1', amount: 100, status: 'Pending' },
  { id: 2, title: 'Expense 2', amount: 200, status: 'Approved' },
  // Add more expenses as needed
];

function ExpenseCard({ expense, onCardClick }) {
  return (
    <div className="expense-card" onClick={() => onCardClick(expense)}>
      <h3>{expense.title}</h3>
      <p>Amount: ${expense.amount}</p>
      <p>Status: {expense.status}</p>
    </div>
  );
}

function ExpenseDetailsPage({ expense, onUpdateStatus }) {
  const [newStatus, setNewStatus] = useState(expense.status);

  const handleStatusChange = (e) => {
    setNewStatus(e.target.value);
  };

  const handleSubmit = () => {
    onUpdateStatus(expense.id, newStatus);
  };

  return (
    <div className="expense-details">
      <h2>{expense.title}</h2>
      <p>Amount: ${expense.amount}</p>
      <div>
        <label htmlFor="status">Change Status:</label>
        <select id="status" value={newStatus} onChange={handleStatusChange}>
          <option value="Pending">Pending</option>
          <option value="Approved">Approved</option>
          <option value="Denied">Denied</option>
        </select>
        <button onClick={handleSubmit}>Submit</button>
      </div>
    </div>
  );
}

function Sample() { // Changed the component name to Sample
  const [expenses, setExpenses] = useState(initialExpenses);
  const [selectedExpense, setSelectedExpense] = useState(null);

  const updateExpenseStatus = (id, newStatus) => {
    const updatedExpenses = expenses.map((expense) =>
      expense.id === id ? { ...expense, status: newStatus } : expense
    );
    setExpenses(updatedExpenses);
  };

  return (
    <div className="App">
      <h1>Expense Management</h1>
      <div className="expense-list">
        {expenses.map((expense) => (
          <ExpenseCard
            key={expense.id}
            expense={expense}
            onCardClick={(selectedExpense) => setSelectedExpense(selectedExpense)}
          />
        ))}
      </div>
      {selectedExpense && (
        <ExpenseDetailsPage
          expense={selectedExpense}
          onUpdateStatus={updateExpenseStatus}
        />
      )}
    </div>
  );
}

export default Sample; // Export the Sample component
