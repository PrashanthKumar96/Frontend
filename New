import React, { useEffect, useState } from 'react';
import axios from 'axios';
import { Chart } from 'react-google-charts';

function PieChart() {
  const [chartData, setChartData] = useState(null);

  useEffect(() => {
    // Make an Axios request to fetch the data
    axios.get('your_api_endpoint')
      .then((response) => {
        const data = response.data; // Assuming your data structure matches the provided JSON

        // Create the chartData array
        const chartData = [
          ['Category', 'Value'],
          ['Pending', data.Pending[0]],
          ['Approved', data.Approved[1]],
          ['Rejected', data.Rejected[0]],
        ];

        setChartData(chartData);
      })
      .catch((error) => {
        console.error('Error fetching data:', error);
      });
  }, []);

  return (
    <div>
      <h2>Pie Chart</h2>
      {chartData ? (
        <Chart
          width={'100%'}
          height={'300px'}
          chartType="PieChart"
          loader={<div>Loading Chart</div>}
          data={chartData}
          options={{
            title: 'My Pie Chart',
          }}
        />
      ) : (
        <p>Loading data...</p>
      )}
    </div>
  );
}

export default PieChart;
